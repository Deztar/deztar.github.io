import{e as b,y as h,D as w,z as g,g as D,h as V,o as E,c as I,E as M,G as S,i as A,H as C,B as O,u as x,r as B,b as q,C as N,a as k,n as T}from"./CrL4dOpj.js";const $=["id"],U="drag-drop-id",_="drag-drop-item",K=b({__name:"AppDragAndDropCollection",props:h({uniqueId:{}},{dragStartIndex:{required:!1},dragStartIndexModifiers:{},dragOverIndex:{required:!1},dragOverIndexModifiers:{}}),emits:h(["drop"],["update:dragStartIndex","update:dragOverIndex"]),setup(d,{emit:p}){const i=p,n=w("wrapper"),o=g(d,"dragStartIndex"),s=g(d,"dragOverIndex"),l=e=>{if(!e)return"-1";const t=e.closest(`.${_}`);return t&&t.getAttribute(U)||"-1"},m=e=>{if(!e.dataTransfer)return;const t=l(e.target);e.dataTransfer.setData("text/plain",t),o.value=+t},u=e=>{e.preventDefault();const t=l(e.target);s.value=+t},r=e=>{var L;if(!e.target)return;const t=+l(e.target),v=+(((L=e.dataTransfer)==null?void 0:L.getData("text"))||-1);i("drop",t,v),f()},a=()=>{o.value=void 0,s.value=void 0},f=()=>{if(!n.value)return;const e=[...n.value.children].filter(t=>t.classList.contains(_));for(let t=0,v=e.length;t<v;t++)e[t].addEventListener("dragstart",m),e[t].addEventListener("dragover",u),e[t].addEventListener("drop",r)};let c;const y=(e,t)=>{for(const v of e)v.type==="childList"&&f()};return D(()=>{n.value&&(c=new MutationObserver(y),c.observe(n.value,{childList:!0}),f()),document.addEventListener("dragend",a)}),V(()=>{if(n.value){const e=[...n.value.children];for(const t of e)t.removeEventListener("dragstart",m),t.removeEventListener("dragover",u),t.removeEventListener("drop",r)}document.removeEventListener("dragend",a),c&&c.disconnect()}),(e,t)=>(E(),I("div",{id:e.uniqueId,ref_key:"wrapper",ref:n,class:"drag-and-drop"},[M(e.$slots,"default")],8,$))}}),z=b({__name:"AppNakedInput",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(d){const p=d,i=S(),n=g(d,"modelValue");return(o,s)=>A((E(),I("input",O({...x(i),...p},{class:"naked-input","onUpdate:modelValue":s[0]||(s[0]=l=>n.value=l)}),null,16)),[[C,n.value]])}}),R=b({__name:"AppInputWithButton",props:{modelValue:{},modelModifiers:{}},emits:h(["enabled","disabled"],["update:modelValue"]),setup(d,{emit:p}){const i=p,n=g(d,"modelValue"),o=B(!1),s=w("wrapper"),l=()=>{var a;o.value=!0,i("enabled"),document.addEventListener("click",u);const r=(a=s.value)==null?void 0:a.querySelector("input");r&&(r.focus(),r.setSelectionRange(0,r.value.length))},m=()=>{o.value=!1,i("disabled"),document.removeEventListener("click",u)},u=r=>{!r.target||r.target.closest(".input-with-button")===s.value||m()};return D(()=>{}),V(()=>{document.removeEventListener("click",u)}),(r,a)=>{const f=z;return E(),I("div",{class:T(["input-with-button fr0",{active:x(o)}]),ref_key:"wrapper",ref:s},[q(f,{modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=c=>n.value=c),style:{"flex-grow":"1"},readonly:!x(o),onKeyup:N(m,["enter"])},null,8,["modelValue","readonly"]),k("button",{class:"edit-button",onClick:l},a[1]||(a[1]=[k("span",null,"âœŽ",-1)]))],2)}}});export{K as _,R as a};
